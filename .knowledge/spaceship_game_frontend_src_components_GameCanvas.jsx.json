{"is_source_file": true, "format": "JavaScript/React JSX", "description": "This file defines a React component 'GameCanvas' that renders a game using HTML Canvas. It contains game loop logic, rendering of background, terrain, player ship, rockets, bullets, bombs, particles, and handles game mechanics such as spawning, collisions, input controls, and level progression.", "external_files": ["react"], "external_methods": ["useRef", "useEffect", "ResizeObserver"], "published": ["GameCanvas"], "classes": [], "methods": [{"name": "buildTerrain()", "description": "Builds terrain points with sine and cosine functions to create uneven ground landscape according to the current level.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "shoot()", "description": "Fires a bullet if the shooting cooldown has passed; adds a bullet object to the game state.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "bomb()", "description": "Drops a bomb if the cooldown has passed; adds a bomb object to the game state.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "spawnRockets(dt)", "description": "Generates rockets with random positions and velocities based on the current level and spawn rate.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "aabb(a, b)", "description": "Performs Axis-Aligned Bounding Box collision detection between two objects.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "explode(x, y, count = 12)", "description": "Creates explosion particles at given coordinates, with optional count of particles.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "loop(now)", "description": "Main game loop that updates game state, handles rendering, collision detection, spawning, and game mechanics; called each frame via requestAnimationFrame.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "groundYAt(x)", "description": "Returns the terrain ground Y-coordinate at a given X position.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "drawSky(ctx)", "description": "Draws the background sky gradient.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "drawTerrain(ctx)", "description": "Draws the terrain based on generated terrain points.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "drawShip(ctx, s)", "description": "Draws the player ship at its current position.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "GameCanvas({ running, level, onScore, onLoseLife, onLevelProgress, onShoot, onBomb, })", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["buildTerrain()", "shoot()", "bomb()", "spawnRockets(dt)", "groundYAt(x)", "drawSky(ctx)", "drawTerrain(ctx)", "drawShip(ctx, st.ship)", "requestAnimationFrame(loop)"], "search-terms": ["GameCanvas", "React", "canvas", "game loop", "terrain", "rockets", "bullets", "bombs", "player ship", "collision detection", "level progress"], "state": 2, "file_id": 13, "knowledge_revision": 31, "git_revision": "", "ctags": [{"_type": "tag", "name": "GameCanvas", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^function GameCanvas({$/", "language": "JavaScript", "kind": "function", "signature": "({ running, level, onScore, onLoseLife, onLevelProgress, onShoot, onBomb, })"}, {"_type": "tag", "name": "aabb", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function aabb(a, b) {$/", "language": "JavaScript", "kind": "function", "signature": "(a, b)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "bomb", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function bomb() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "buildTerrain", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function buildTerrain() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "canvasRef", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  return <canvas ref={canvasRef} role=\"img\" aria-label=\"Game canvas\"><\\/canvas>;$/", "language": "JavaScript", "kind": "field", "scope": "GameCanvas.AnonymousClasse7f5d5360101", "scopeKind": "class"}, {"_type": "tag", "name": "drawShip", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function drawShip(ctx, s) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx, s)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "drawSky", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function drawSky(ctx) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "drawTerrain", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function drawTerrain(ctx) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "explode", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function explode(x, y, count = 12) {$/", "language": "JavaScript", "kind": "function", "signature": "(x, y, count = 12)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "groundYAt", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function groundYAt(x) {$/", "language": "JavaScript", "kind": "function", "signature": "(x)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "h", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^    const shipBox = { x: st.ship.x, y: st.ship.y, w: st.ship.w, h: st.ship.h };$/", "language": "JavaScript", "kind": "property", "scope": "GameCanvas.loop.shipBox", "scopeKind": "class"}, {"_type": "tag", "name": "loop", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function loop(now) {$/", "language": "JavaScript", "kind": "function", "signature": "(now)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "shipBox", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^    const shipBox = { x: st.ship.x, y: st.ship.y, w: st.ship.w, h: st.ship.h };$/", "language": "JavaScript", "kind": "class", "scope": "GameCanvas.loop", "scopeKind": "class"}, {"_type": "tag", "name": "shoot", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function shoot() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "spawnRockets", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function spawnRockets(dt) {$/", "language": "JavaScript", "kind": "function", "signature": "(dt)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "w", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^    const shipBox = { x: st.ship.x, y: st.ship.y, w: st.ship.w, h: st.ship.h };$/", "language": "JavaScript", "kind": "property", "scope": "GameCanvas.loop.shipBox", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^    const shipBox = { x: st.ship.x, y: st.ship.y, w: st.ship.w, h: st.ship.h };$/", "language": "JavaScript", "kind": "property", "scope": "GameCanvas.loop.shipBox", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^    const shipBox = { x: st.ship.x, y: st.ship.y, w: st.ship.w, h: st.ship.h };$/", "language": "JavaScript", "kind": "property", "scope": "GameCanvas.loop.shipBox", "scopeKind": "class"}], "hash": "32674bdff270974306bc2254f1462e72", "format-version": 4, "code-base-name": "spaceship_game_frontend", "filename": "spaceship_game_frontend/src/components/GameCanvas.jsx", "fields": [{"name": "return <canvas ref={canvasRef} role=\"img\" aria-label=\"Game canvas\"><\\/canvas>;", "scope": "GameCanvas.AnonymousClasse7f5d5360101", "scopeKind": "class", "description": "unavailable"}, {"name": "const shipBox = { x: st.ship.x, y: st.ship.y, w: st.ship.w, h: st.ship.h };", "scope": "GameCanvas.loop.shipBox", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"31": ""}]}