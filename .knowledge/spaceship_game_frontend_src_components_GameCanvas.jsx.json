{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "React functional component 'GameCanvas' that renders an animated game scene with multiple layered background, entity management, explosion and particle effects, user input handling, and game loop logic for a space-themed game. Uses HTML5 Canvas for rendering.", "external_files": ["react"], "external_methods": ["useEffect", "useRef"], "published": ["GameCanvas"], "classes": [], "methods": [{"name": "buildAllScenery()", "description": "Constructs terrain, hills, mountains, clouds, stars, and nebulae layers based on current level and size.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "buildTerrain()", "description": "Generates procedural terrain points for ground layer.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "buildHills()", "description": "Generates procedural hill layer points.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "buildMountains()", "description": "Generates procedural mountain layer points.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "seedClouds()", "description": "Creates initial cloud objects with positions and scales.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "makeCloud(x, y, scale)", "description": "Creates a cloud object with motion parameters.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "seedStars()", "description": "Creates star objects with twinkling and drift properties.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "seedNebulae()", "description": "Creates nebulae objects with motion and pulsing properties.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "shoot()", "description": "Spawns a bullet projectile if cooldown allows, calls onShoot callback.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "bomb()", "description": "Spawns a bomb projectile if cooldown allows, calls onBomb callback.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "spawnRockets(dt)", "description": "Procedurally spawns rockets based on level and time delta.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "aabb(a, b)", "description": "Performs axis-aligned bounding box collision detection.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "explode(x, y, count = 12, intensity = 'normal')", "description": "Creates explosion effects: shockwaves, screen flashes, and particles with diverse types and colors, with optional screen shake based on proximity and intensity.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "triggerScreenShake(intensity, duration)", "description": "Initiates screen shake with specified strength and duration.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "updateScreenShake(dt)", "description": "Updates shake offsets and damping over time.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "loop(now)", "description": "Main game loop: updates entity positions, handles collisions, spawns effects, and renders all layers and effects in proper order.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "groundYAt(x)", "description": "Returns ground height at given x coordinate from terrain points.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "drawSky(ctx)", "description": "Draws background sky gradient.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "drawClouds(ctx)", "description": "Renders clouds over the sky.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "drawStars(ctx)", "description": "Renders twinkling stars in the background.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "drawNebulae(ctx)", "description": "Draws nebulae with pulsing and layered transparency.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "drawCloudShape(ctx, x, y, scale = 1, opacity = 0.75)", "description": "Helper to draw fluffy cloud shapes.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "drawMountains(ctx)", "description": "Renders silhouette mountain layer with parallax offset.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "drawHills(ctx)", "description": "Renders hill layer with parallax offset.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "drawTerrain(ctx)", "description": "Draws foreground terrain.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "drawShip(ctx, s)", "description": "Renders the player ship.", "scope": "GameCanvas", "scopeKind": "function"}, {"name": "GameCanvas({ running, level, onScore, onLoseLife, onLevelProgress, onShoot, onBomb, })", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["requestAnimationFrame", "ctx.clearRect", "ctx.save", "ctx.translate", "ctx.restore", "ctx.fillRect", "ctx.beginPath", "ctx.arc", "ctx.fill", "ctx.stroke", "ctx.lineTo", "ctx.moveTo", "ctx.closePath", "ctx.stroke", "ctx.globalAlpha", "ctx.fillStyle", "ctx.strokeStyle", "ctx.lineWidth", "ctx.createLinearGradient", "ctx.createRadialGradient", "canvasRef.current.getContext"], "search-terms": ["GameCanvas", "space shooter", "parallax background", "explosions", "particle effects", "user input handling", "level progression", "layered terrain", "react game component"], "state": 2, "file_id": 13, "knowledge_revision": 65, "git_revision": "61880ee4adf3da60ec404c3a5c48d6cd3a5d457c", "revision_history": [{"31": ""}, {"51": "d9ac84c7cc01e192a1c973c001bc6117b0dfd737"}, {"52": "d9ac84c7cc01e192a1c973c001bc6117b0dfd737"}, {"53": "d9ac84c7cc01e192a1c973c001bc6117b0dfd737"}, {"54": "d9ac84c7cc01e192a1c973c001bc6117b0dfd737"}, {"55": "d9ac84c7cc01e192a1c973c001bc6117b0dfd737"}, {"56": "d9ac84c7cc01e192a1c973c001bc6117b0dfd737"}, {"59": "61880ee4adf3da60ec404c3a5c48d6cd3a5d457c"}, {"61": "61880ee4adf3da60ec404c3a5c48d6cd3a5d457c"}, {"62": "61880ee4adf3da60ec404c3a5c48d6cd3a5d457c"}, {"63": "61880ee4adf3da60ec404c3a5c48d6cd3a5d457c"}, {"64": "61880ee4adf3da60ec404c3a5c48d6cd3a5d457c"}, {"65": "61880ee4adf3da60ec404c3a5c48d6cd3a5d457c"}], "ctags": [{"_type": "tag", "name": "GameCanvas", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^function GameCanvas({$/", "language": "JavaScript", "kind": "function", "signature": "({ running, level, onScore, onLoseLife, onLevelProgress, onShoot, onBomb, })"}, {"_type": "tag", "name": "aabb", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function aabb(a, b) {$/", "language": "JavaScript", "kind": "function", "signature": "(a, b)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "bomb", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function bomb() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "buildAllScenery", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function buildAllScenery() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "buildHills", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function buildHills() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "buildMountains", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function buildMountains() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "buildTerrain", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function buildTerrain() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "canvasRef", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  return <canvas ref={canvasRef} role=\"img\" aria-label=\"Game canvas with parallax terrain\"><\\/ca/", "language": "JavaScript", "kind": "field", "scope": "GameCanvas.AnonymousClasse7f5d5360101", "scopeKind": "class"}, {"_type": "tag", "name": "drawCloudShape", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function drawCloudShape(ctx, x, y, scale = 1, opacity = 0.75) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx, x, y, scale = 1, opacity = 0.75)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "drawClouds", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function drawClouds(ctx) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "drawHills", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function drawHills(ctx) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "drawMountains", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function drawMountains(ctx) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "drawNebulae", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function drawNebulae(ctx) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "drawShip", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function drawShip(ctx, s) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx, s)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "drawSky", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function drawSky(ctx) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "drawStars", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function drawStars(ctx) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "drawTerrain", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function drawTerrain(ctx) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "explode", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function explode(x, y, count = 12, intensity = 'normal') {$/", "language": "JavaScript", "kind": "function", "signature": "(x, y, count = 12, intensity = 'normal')", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "groundYAt", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function groundYAt(x) {$/", "language": "JavaScript", "kind": "function", "signature": "(x)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "h", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^    const shipBox = { x: st.ship.x, y: st.ship.y, w: st.ship.w, h: st.ship.h };$/", "language": "JavaScript", "kind": "property", "scope": "GameCanvas.loop.shipBox", "scopeKind": "class"}, {"_type": "tag", "name": "loop", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function loop(now) {$/", "language": "JavaScript", "kind": "function", "signature": "(now)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "makeCloud", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function makeCloud(x, y, scale) {$/", "language": "JavaScript", "kind": "function", "signature": "(x, y, scale)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "seedClouds", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function seedClouds() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "seedNebulae", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function seedNebulae() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "seedStars", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function seedStars() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "shipBox", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^    const shipBox = { x: st.ship.x, y: st.ship.y, w: st.ship.w, h: st.ship.h };$/", "language": "JavaScript", "kind": "class", "scope": "GameCanvas.loop", "scopeKind": "class"}, {"_type": "tag", "name": "shoot", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function shoot() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "spawnRockets", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function spawnRockets(dt) {$/", "language": "JavaScript", "kind": "function", "signature": "(dt)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "triggerScreenShake", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function triggerScreenShake(intensity, duration) {$/", "language": "JavaScript", "kind": "function", "signature": "(intensity, duration)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "updateScreenShake", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^  function updateScreenShake(dt) {$/", "language": "JavaScript", "kind": "function", "signature": "(dt)", "scope": "GameCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "w", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^    const shipBox = { x: st.ship.x, y: st.ship.y, w: st.ship.w, h: st.ship.h };$/", "language": "JavaScript", "kind": "property", "scope": "GameCanvas.loop.shipBox", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^    const shipBox = { x: st.ship.x, y: st.ship.y, w: st.ship.w, h: st.ship.h };$/", "language": "JavaScript", "kind": "property", "scope": "GameCanvas.loop.shipBox", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/galactic-defender-87118-87285/spaceship_game_frontend/src/components/GameCanvas.jsx", "pattern": "/^    const shipBox = { x: st.ship.x, y: st.ship.y, w: st.ship.w, h: st.ship.h };$/", "language": "JavaScript", "kind": "property", "scope": "GameCanvas.loop.shipBox", "scopeKind": "class"}], "hash": "ec937ddce2b37041ace30ff8f50ce4e0", "format-version": 4, "code-base-name": "spaceship_game_frontend", "filename": "spaceship_game_frontend/src/components/GameCanvas.jsx", "fields": [{"name": "return <canvas ref={canvasRef} role=\"img\" aria-label=\"Game canvas with parallax terrain\"><\\/ca/", "scope": "GameCanvas.AnonymousClasse7f5d5360101", "scopeKind": "class", "description": "unavailable"}, {"name": "const shipBox = { x: st.ship.x, y: st.ship.y, w: st.ship.w, h: st.ship.h };", "scope": "GameCanvas.loop.shipBox", "scopeKind": "class", "description": "unavailable"}]}